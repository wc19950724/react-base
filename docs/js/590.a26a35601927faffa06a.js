"use strict";(self.webpackChunkreact_base=self.webpackChunkreact_base||[]).push([[590],{2590:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var s=r(1527),n=r(2699),i=r(959);const a=r.p+"assets/DamagedHelmet.usdz",o=r.p+"assets/royal_esplanade_1k.hdr";var c=r(7327),d=r(3418),h=r(9640),l=r(7142);class f{container;camera;scene;renderer;controls;constructor(e){this.container=e,this.camera=new c.cPb(45,e.offsetWidth/e.offsetHeight,.25,20),this.camera.position.set(-1.8,.6,2.7),this.scene=new c.xsS,this.renderer=new c.CP7({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e.offsetWidth,e.offsetHeight),this.renderer.toneMapping=c.LY2,this.renderer.toneMappingExposure=1,this.controls=new d.z(this.camera,this.renderer.domElement),this.controls.minDistance=2,this.controls.maxDistance=10,this.controls.target.set(0,0,-.2),this.container.appendChild(this.renderer.domElement)}loadModel(e,t){(new h.x).load(e,(e=>{e.mapping=c.dSO,this.scene.background=e,this.scene.environment=e,(new l.n).load(t,(e=>{this.scene.add(e),this.render()}))}))}render(){requestAnimationFrame(this.render.bind(this)),this.renderer.render(this.scene,this.camera)}dispose(){this.container.removeChild(this.renderer.domElement)}}const m=()=>{const e=(0,i.useRef)(null);let t;const r=(0,n.debounce)((()=>{if(e.current){const{offsetWidth:r,offsetHeight:s}=e.current;t.camera.aspect=r/s,t.camera.updateProjectionMatrix(),t.renderer.setSize(r,s)}}),200),c=new ResizeObserver(r);return(0,i.useEffect)((()=>{if(e.current)return t=new f(e.current),t.loadModel(o,a),c.observe(e.current),()=>{c.disconnect(),t.dispose()}}),[]),(0,s.jsx)("div",{ref:e,className:"all-full relative overflow-hidden"})}}}]);