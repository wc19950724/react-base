"use strict";(self.webpackChunkreact_base=self.webpackChunkreact_base||[]).push([[543],{8543:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var r=s(1527),n=s(2699),i=s(959),a=s(7327),o=s(9800);const c=s.p+"assets/行人.gltf";var d=s(3679);const h=()=>{const e=(0,i.useRef)(null);let t;const s=(0,n.debounce)((()=>{if(e.current){const{offsetWidth:s,offsetHeight:r}=e.current;t.camera.aspect=s/r,t.camera.updateProjectionMatrix(),t.renderer.setSize(s,r)}}),200),h=new ResizeObserver(s);let l;(0,i.useEffect)((()=>{if(e.current)return t=new d.w(e.current),f(c),t.renderer.setAnimationLoop(m),h.observe(e.current),()=>{h.disconnect(),t.dispose()}}),[]);const f=e=>{(new o.E).load(e,(e=>{const s=e.scene,r=new a.vBJ({color:16777215});s.traverse((e=>{e instanceof a.Kj0&&(e.material=r)})),l=new a.Xcj(s),l.clipAction(e.animations[0]).play(),t.scene.clear(),t.scene.add(s)}))},m=()=>{l&&l.update(.008),t.stats.update(),t.renderer.render(t.scene,t.camera)};return(0,r.jsx)("div",{ref:e,className:"all-full relative overflow-hidden"})}},3679:(e,t,s)=>{s.d(t,{w:()=>a});var r=s(7327),n=s(3418),i=s(8677);class a{container;camera;scene;renderer;controls;stats;constructor(e){this.container=e,this.camera=new r.cPb(45,e.offsetWidth/e.offsetHeight,.25,20),this.camera.position.set(0,-8,0),this.scene=new r.xsS,this.renderer=new r.CP7({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e.offsetWidth,e.offsetHeight),this.renderer.toneMapping=r.LY2,this.renderer.toneMappingExposure=1,this.controls=new n.z(this.camera,this.renderer.domElement),this.controls.minDistance=2,this.controls.maxDistance=10,this.controls.target.set(0,0,-.2),this.container.appendChild(this.renderer.domElement),this.stats=new i.Z,this.stats.dom.style.position="absolute",this.container.appendChild(this.stats.dom)}dispose(){this.container.removeChild(this.stats.dom),this.container.removeChild(this.renderer.domElement)}}}}]);