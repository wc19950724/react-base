"use strict";(self.webpackChunkreact_base=self.webpackChunkreact_base||[]).push([[863],{1863:(e,s,i)=>{i.r(s),i.d(s,{default:()=>m});var t=i(1527),r=i(959),n=i(2699),o=i(7327),a=i(3418),h=i(176);const d={resize:!0,control:!0};class l{options;container;camera;scene;renderer;controls;resizeObserver;constructor(e,s){this.options=Object.assign({},d,s),this.container=e,this.scene=new o.xsS,this.camera=new o.cPb,this.renderer=new o.CP7({antialias:!0}),this.container.appendChild(this.renderer.domElement),this.resizeObserver=new ResizeObserver((0,n.debounce)(this.resize.bind(this),200)),this.resize(),this.options.resize&&this.resizeObserver.observe(this.container),this.options.control&&(this.controls=new a.z(this.camera,this.renderer.domElement))}resize(){const{offsetWidth:e,offsetHeight:s}=this.container;this.camera.aspect=e/s,this.camera.updateProjectionMatrix(),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e,s)}render(e){e?.(),this.controls?.update(),this.renderer?.render(this.scene,this.camera)}rafRender(e){this.renderer?.setAnimationLoop(this.render.bind(this,e))}dispose(){this.resizeObserver.disconnect(),this.renderer&&this.container.removeChild(this.renderer.domElement)}}class c extends l{gui;axes;#e;constructor(e,s){super(e,s),this.gui=new h.XS,this.axes=new o.y8_(5);const i=new o.Ilk(16711680),t=new o.Ilk(65280),r=new o.Ilk(255);this.axes.setColors(i,t,r),this.#e=[i,t,r],this.init()}init(){const e=new o.VLJ(5,10,8947848,4473924);this.scene.add(e,this.axes),this.camera.position.set(0,.5,1),this.addGUI()}addGUI(){const e=this.gui.addFolder("辅助线");e.add(this.axes,"visible").name("显示").onChange((s=>{e.children.forEach((e=>{e instanceof h.Qr&&"visible"!==e.property&&e.disable(!s)}))})),e.addColor(this.#e,"0").disable(!this.axes.visible).name("X").onChange((()=>{this.axes.setColors(...this.#e)})),e.addColor(this.#e,"1").disable(!this.axes.visible).name("Y").onChange((()=>{this.axes.setColors(...this.#e)})),e.addColor(this.#e,"2").disable(!this.axes.visible).name("Z").onChange((()=>{this.axes.setColors(...this.#e)})),this.gui.domElement.style.position="absolute",this.container.appendChild(this.gui.domElement)}dispose(){super.dispose(),this.container.removeChild(this.gui.domElement)}}const m=()=>{const e=(0,r.useRef)(null);let s;return(0,r.useEffect)((()=>{if(e.current)return s=new c(e.current),s.rafRender(),()=>{s.dispose()}}),[]),(0,t.jsx)("div",{ref:e,className:"all-full relative overflow-hidden"})}}}]);